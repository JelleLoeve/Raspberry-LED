@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<p>@ViewBag.ErrorMessage</p>
<h1>Raspberry Pagina</h1>

<p>Welkom bij Raspberry controller</p>
<div id="musicUpload">
    @using (Html.BeginForm("Upload", "Raspberry", FormMethod.Post, new {enctype = "multipart/form-data"}))
    {
        <p>Select a already uploaded file</p>
        <select name="SelectedFileID">
            @foreach (var item in Model[1])
            {
                <option value="@item.ID">@item.Alias</option>
            }
        </select>
        <p>Upload a new file:</p>
        <input type="text" name="Alias" id="Alias" required placeholder="Enter file alias here"/>
        <input type="file" name="file" required/>

        <input type="submit" name="Submit" id="Submit" value="Play File"/>
    }
</div>
@foreach (var item in Model[1])
{
    <p>@item.ID</p>
    <p>@item.FileName</p>
    <p>@item.Alias</p>
    <p>@item.Type</p>
}
<div class="buttons">
    <p>Red:</p>
    <p><input type="checkbox" checked data-toggle="toggle"></p>

    <p>Blue:</p>
    <p><input type="checkbox" checked data-toggle="toggle"></p>

    <p>Green:</p>
    <p><input type="checkbox" checked data-toggle="toggle"></p>

    <p>RBG:</p>
    <p><input type="checkbox" checked data-toggle="toggle"></p>

        @foreach (var item in Model[0])
        {
            if (item.isSet)
            {
                var link = "/Raspberry/ChangeLed/" + item.pinnumber;
                var state = item.isOn ? "on" : "off";
                <form action=@link>
                @if (item.color == "red")
                {
                <label class="RedButton">
                    <p>@state</p><input style="display: none;" type="submit" />
                </label>
                }

                @if (item.color == "blue")
                {
                <label class="BlueButton">
                    <p>@state</p><input style="display: none;" type="submit"/>
                </label>
                }

                @if (item.color == "green")
                {
                    <label class="GreenButton">
                        <p>@state</p><input style="display: none;" type="submit" />
                    </label>
                }

                @if (item.color == "rbg")
                {
                    <label class="RBGButton">
                        <p>@state</p><input style="display: none;" type="submit" />
                    </label>
                }
            </form>
        }
    }
</div>
